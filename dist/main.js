!function(e){var t={};function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dist",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var n=()=>{const e=document.querySelector(".clubs-list").querySelector("ul"),t=document.querySelector("#gift"),s=document.querySelector(".fixed-gift"),n=document.querySelector(".popup-menu");document.addEventListener("click",o=>{const i=o.target,r=i.dataset.popup;!i.closest(".clubs-list")||e.style.display&&"none"!==e.style.display?(!i.closest(".clubs-list")||i.matches("p")&&"block"===e.style.display)&&(e.style.display="none"):e.style.display="block",r&&!i.matches(".footer-btn")&&(document.querySelector(r).style.display="block"),i.closest(".close-form")&&(i.closest(".popup").style.display="none"),i.closest(".fixed-gift")&&(t.style.display="block",s.style.display="none"),i.closest(".menu-button>img")&&(n.style.display="flex"),(i.closest(".close-menu-btn")||i.closest(".scroll"))&&(n.style.display="none");try{i.closest(".form-content")?i.closest(".close-btn")&&(i.closest(".popup").style.display="none"):i.closest(".popup").style.display="none"}catch{}})};var o=()=>{const e=document.querySelector(".menu-button"),t=document.querySelector(".top-menu");let s=screen.width;const n=()=>{window.pageYOffset>=t.clientHeight?t.style.position="fixed":t.style.position=""};s<=767?window.addEventListener("scroll",n):s>767&&(window.removeEventListener("scroll",n),t.style.position=""),window.addEventListener("resize",()=>{s=screen.width,s<=767?(e.style.display="block",window.addEventListener("scroll",n)):s>767&&(e.style.display="none",window.removeEventListener("scroll",n),t.style.position="")})};var i=()=>{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t,s=0;t=setInterval(()=>{var t;t="active",e[s].classList.remove(t),s++,s>=e.length&&(s=0),((e,t,s)=>{e[t].classList.add(s)})(e,s,"active")},3e3)};var r=()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide"),s=document.querySelector(".slide-dots");let n=0;for(let e=0;e<t.length;e++){let e=document.createElement("li");e.classList.add("dot"),s.append(e)}const o=document.querySelectorAll(".dot");o[0].classList.add("dot-active");const i=(e,t,s)=>{e[t].classList.remove(s)},r=(e,t,s)=>{e[t].classList.add(s)};e.addEventListener("click",e=>{let s=e.target;i(t,n,"active"),i(o,n,"dot-active"),s.matches("#arrow-right")?n++:s.matches("#arrow-left")?n--:s.matches(".dot")&&o.forEach((e,t)=>{e===s&&(n=t)}),n>=t.length?n=0:n<0&&(n=t.length-1),r(t,n,"active"),r(o,n,"dot-active")})};var l=class{constructor({main:e,wrap:t,next:s,prev:n,position:o=0,slidesToShow:i=3,infinity:r=!1}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(s),this.prev=document.querySelector(n),this.slidesToShow=i,this.options={position:o,infinity:r,widthSlide:Math.floor(100/this.slidesToShow)}}init(){this.addClass(),this.addStyle(),this.prev&&this.next&&this.controlSlider()}addClass(){this.main.classList.add("slider-carusel"),this.wrap.classList.add("slider-carusel__wrap");for(const e of this.slides)e.classList.add("slider-carusel__item")}addStyle(){const e=document.createElement("style");e.id="sliderCarusel-style",e.textContent=`\n      .slider-carusel {\n        overflow: hidden;\n        position: relative;\n      }\n      .slider-carusel__wrap {\n        display: flex;\n        transition: transform 0.5s;\n        will-change: transform;\n      }\n      .slider-carusel__item {\n        flex: 0 0 ${this.options.widthSlide}%;\n        margin: auto;\n      }\n    `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}};var c=()=>{const e=document.querySelector("#card_order"),t=e.querySelectorAll(".time>input"),s=e.querySelectorAll(".club>input"),n=e.querySelector(".input-text>#promo"),o=e.querySelector("#price-total"),i={1:[1999,2999],6:[9900,14990],9:[13900,21990],12:[19900,24990]};e.addEventListener("click",()=>{for(let e=0;e<t.length;e++)if(!0===t[e].checked){let r=t[e].value;for(let e=0;e<s.length;e++)if(!0===s[e].checked){let t=i[r][e];"ТЕЛО2019"===n.value?o.textContent=Math.ceil(.7*t):o.textContent=t}}})};var a=()=>{const e=document.querySelector("#totop"),t=document.querySelector("header");e.style.display="none",window.addEventListener("scroll",()=>{window.pageYOffset>=t.clientHeight?e.style.display="":window.pageYOffset<t.clientHeight&&(e.style.display="none")})};var d=class{constructor({element:e,pattern:t={},method:s}){this.form=e,this.pattern=t,this.method=s,this.elementsForm=[...this.form.elements].filter(e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type),this.error=new Set}init(){this.applyStyle(),this.setPattern(),this.elementsForm.forEach(e=>e.addEventListener("change",this.checkIt.bind(this))),this.form.querySelector("button").addEventListener("click",e=>{e.target.matches(".footer-btn")&&this.chooseClub(e),this.elementsForm.forEach(e=>this.checkIt({target:e})),this.error.size&&e.preventDefault()})}chooseClub(e){const t=e.target,s=document.querySelector(".choose-club>h5"),n=document.querySelectorAll(".choose-club>.club>input");for(let e=0;e<n.length;e++){if(n[e].checked)return this.showSuccsess(t),this.error.delete(t),s.textContent="Выбрать клуб",void(s.style.color="");this.showError(t),this.error.add(t),s.textContent="Необходимо выбрать клуб",s.style.color="red"}}isValid(e){const t={notEmpty:e=>""!==e.value.trim(),checked:e=>!!e.checked,pattern:(e,t)=>t.test(e.value)};if(this.method){const s=this.method[e.name];if(s)return s.every(s=>t[s[0]](e,this.pattern[s[1]]))}else console.warn("Необходимо передать id полей ввода и методы проверки этих полей");return!0}checkIt(e){const t=e.target;this.isValid(t)?(this.showSuccsess(t),this.error.delete(t)):(this.showError(t),this.error.add(t))}showError(e){if(e.classList.remove("succsess"),e.classList.add("error"),"checkbox"===e.type&&e.classList.contains("error")){const e=document.createElement("style");e.textContent="\n        p.personal-data label{\n          color: red !important;\n        }\n      }\n      ",document.head.appendChild(e)}!e.nextElementSibling||e.nextElementSibling.classList.contains("validator-error")}showSuccsess(e){if(e.classList.remove("error"),e.classList.add("succsess"),"checkbox"===e.type&&e.classList.contains("succsess")){const e=document.createElement("style");e.textContent="\n        p.personal-data label{\n          color: #fff !important;\n        }\n      }\n      ",document.head.appendChild(e)}e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()}applyStyle(){const e=document.createElement("style");e.textContent="\n      input.succsess {\n        border: 2px solid green !important;\n      }\n      input.error {\n        border: 2px solid red !important;\n        color: red;\n      }\n    ",document.head.appendChild(e)}setPattern(){this.pattern.phone||(this.pattern.phone=/^\+?[78]([-()]*\d){10}$/),this.pattern.email||(this.pattern.email=/^\w+@\w+\.\w{2,}$/)}};var p=()=>{const e=document.querySelectorAll("form"),t=document.querySelector("#thanks"),s=t.querySelector("p");for(let i of e)i.addEventListener("submit",e=>{e.preventDefault(),t.style.display="block",s.innerHTML="Загрузка...";const r=new FormData(i);let l={};for(let e of r.entries())l[e[0]]=e[1];n(l).then(e=>{if(200!==e.status)throw new Error("status network not 200")}).then(()=>{s.innerHTML="Ваша заявка отправлена.<br>Мы свяжемся с вами в ближайшее время.",o(i),setTimeout(()=>{t.style.display=""},5e3)}).catch(e=>{s.innerHTML="Что-то пошло не так...",console.error(e)})});const n=e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)}),o=e=>{e.reset();const t=document.querySelectorAll(".popup");for(let e=0;e<t.length;e++)console.log(t[e].id),"thanks"===t[e].id?(console.log(t[e]),t[e].style.display="block"):t[e].style.display="none"}};var u=()=>{const e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)"name"===e[t].name?e[t].addEventListener("input",()=>{e[t].value=e[t].value.replace(/[^\а-яА-Я\s]/g,"")}):"phone"===e[t].name&&e[t].addEventListener("input",()=>{e[t].value=e[t].value.replace(/[^\d\s\(\)\-\+]/g,"")})};n(),o(),i(),r(),new l({main:"#services>.wrapper",wrap:".services-slider",next:".slider-next",prev:".slider-prev",infinity:!0,slidesToShow:3}).init(),c(),a();const h=document.querySelectorAll("form");let m=[];for(let e=0;e<h.length;e++){const t=new d({element:h[e],pattern:{user_name:/^[а-яА-Я\s]*$/},method:{name:[["notEmpty"],["pattern","user_name"]],phone:[["notEmpty"],["pattern","phone"]],"personal-data":[["checked"]]}});m.push(t),m[e].init()}p(),u()}]);